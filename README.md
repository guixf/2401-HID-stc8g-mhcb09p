# 2401_XY-MBO21F_stc8g_mhcb09
2401_MBO21F_stc8g_mhcb09人在、手机在多功能监测报告米家

将状态检测统一到Check_State_Changes()函数中

同时检测传感器状态和LED状态的变化

当任一相关状态变化时，都会触发相应的逻辑处理

Key1逻辑触发条件：

当人体检测状态变化 或 LED1状态变化时，触发Key1逻辑检查

这样可以确保当LED1状态发生变化时（即使传感器状态没变），也能及时响应

Key2逻辑触发条件：

当手机检测状态变化 或 LED2状态变化时，触发Key2逻辑检查

Key3逻辑触发条件：

当Relay3状态变化时触发

电压检测后总是检查Key3逻辑（每秒一次）

增强调试输出：

更详细的状态变化提示

显示所有相关状态的当前值

显示逻辑条件是否满足

显示是否发送了脉冲

优化主循环结构：

简化主循环，将所有状态检测集中到一个函数

提高代码可读性和维护性

保持原有功能：

看门狗功能（8秒超时）

电压检测功能

LED高电平亮的配置

工作原理：

程序每10ms检查一次所有输入状态

当检测到任何相关状态变化时，立即执行相应的逻辑处理

LED状态变化会立即被检测到并触发响应

传感器状态变化也会立即被检测到并触发响应

电压每秒检测一次，确保电压异常时能及时响应

这样修改后，程序能够正确检测到LED亮灭状态的变化，并在状态变化时及时执行相应的逻辑